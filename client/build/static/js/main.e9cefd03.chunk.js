(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{242:function(e,t,a){},273:function(e,t,a){},290:function(e,t,a){},314:function(e,t){},316:function(e,t){},328:function(e,t){},330:function(e,t){},358:function(e,t){},360:function(e,t){},361:function(e,t){},366:function(e,t){},368:function(e,t){},374:function(e,t){},376:function(e,t){},395:function(e,t){},407:function(e,t){},410:function(e,t){},460:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},470:function(e,t,a){},526:function(e,t){},618:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(274),l=a.n(s),r=(a(290),a(629)),i=a(625),c=a(632),m=a(35),u=a.n(m),p=a(25),d=a.n(p),h=function(e){e?(console.log("authtoken"),d.a.defaults.headers.common.Authorization=e):delete d.a.defaults.headers.common.Authorization},g=function(e){e?d.a.defaults.headers.common.Challenge=e:delete d.a.defaults.headers.common.Challenge},f="GET_ERRORS",b="USER_LOADING",v="SET_CURRENT_USER",y="SET_CHALLENGE",E="SET_ROOM",w=function(e){return{type:v,payload:e}},C=function(){return function(e){localStorage.removeItem("userToken"),h(!1),e(w({}))}},x=(a(310),function(e){return function(t){console.log("setChall call"),console.log(e),d.a.post("/api/users/getChallenge",e).then((function(e){var a=e.data.token;localStorage.setItem("challengeToken",a),g(a);var n=u()(a);t(k(n))})).catch((function(e){return console.log(e)}))}}),k=function(e){return{type:y,payload:e}},I=function(){return function(e){localStorage.removeItem("challengeToken"),g(!1),e(k({}))}},S=function(e){return{type:E,payload:e}},N=function(){return function(e){localStorage.removeItem("roomToken"),e(S({}))}},j=a(29),O=a(56),T=a(276),R=a(22),D=a(430),L={isAuthenticated:!1,user:{},loading:!1,challenge:{},isChallenge:!1,room:"",isRoom:!1},M={},G=Object(O.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(R.a)(Object(R.a)({},e),{},{isAuthenticated:!D(t.payload),user:t.payload});case b:return Object(R.a)(Object(R.a)({},e),{},{loading:!0});case y:return Object(R.a)(Object(R.a)({},e),{},{isChallenge:!D(t.payload),challenge:t.payload});case E:return Object(R.a)(Object(R.a)({},e),{},{isRoom:!D(t.payload),room:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}}}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,B=Object(O.e)(G,{},U(Object(O.a)(T.a))),F=a(277),P=Object(F.io)("http://competitivecoder.com"),Q=(a(460),a(14)),z=a(15),A=a(17),_=a(16),W=a(622),J=(n.Component,a(461),function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){return Object(Q.a)(this,a),t.apply(this,arguments)}return Object(z.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"landingbg"},o.a.createElement("div",{style:{height:"10vh"},className:"row"},o.a.createElement("div",{className:"col s12 center-align"},o.a.createElement("text",{style:{fontFamily:"monospace",fontSize:"30px"},className:"brand-logo black-text"},o.a.createElement("i",{className:"material-icons"},"code"),"CompCoder"))),o.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"7vh",marginBottom:"7vh"}},o.a.createElement("h2",null,o.a.createElement("b",null,"Challenge")," yourself, become a better programmer"," ")),o.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"7vh",marginBottom:"7vh",marginLeft:"15vw",marginRight:"15vw"}},o.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"Face off in a head to head challenge against real programmers around the world! Pass those test cases, and cut that runtime if you want to come out on top!"),o.a.createElement("br",null)),o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement(W.a,{to:"/register"},o.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",marginRight:"100px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register")),o.a.createElement(W.a,{to:"/login"},o.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",marginLeft:"100px"},onClick:this.toLoginPage,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))}}]),a}(n.Component)),H=(a(462),a(623)),Y=a(630),q=a(624),K=function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(Q.a)(this,a),(n=t.call(this,e)).submit=function(e){e.preventDefault();n.sendFeedback("basic",{})},n.sendFeedback=function(e,t){window.emailjs.send("yahoo",e,t).then((function(e){}))},n.changeName=function(e){e.preventDefault(),n.setState({name:e.target.value})},n.changeProblem=function(e){e.preventDefault(),n.setState({problem:e.target.value})},n.state={username:"",problem:"",email:""},n}return Object(z.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"bugreportbg"},o.a.createElement("div",{style:{width:"70vw",margin:"auto"}},o.a.createElement("div",{className:"d-flex justify-content-center",style:{marginBottom:"10vh"}},o.a.createElement("span",{style:{fontSize:"40px"}},"Oh no, a bug!")),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("label",{htmlFor:"basic-url",style:{fontSize:"25px",color:"black"}},"What's your username?")),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(H.a,{className:"mb-3",onChange:this.changeName},o.a.createElement(Y.a,{placeholder:"Username","aria-label":"Username"}))),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("label",{htmlFor:"basic-url",style:{fontSize:"25px",color:"black"}},"What seems to be the issue?")),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(H.a,{className:"mb-3",onChange:this.changeProblem},o.a.createElement(Y.a,{as:"textarea",placeholder:"Explain here","aria-label":"explain"}))),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(q.a,{onClick:this.submit},"Submit"))))}}]),a}(n.Component),V=a(70),X=a(631),Z=a(57),$=a.n(Z),ee=(a(242),function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(Q.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(V.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history),console.log(a)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"authbg"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center",style:{height:"15vh"}},o.a.createElement("text",{style:{fontFamily:"monospace",fontSize:"30px"},className:"brand-logo black-text"},o.a.createElement("i",{className:"material-icons"},"code"),"CompCoder ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement("div",{className:"row justify-content-center",style:{height:"5vh"}},o.a.createElement(W.a,{to:"/",className:"btn-flat waves-effect"},o.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home")),o.a.createElement("div",{className:"row justify-content-center",style:{height:"3vh"}},o.a.createElement("h4",null,o.a.createElement("b",null,"Register")," below")),o.a.createElement("div",{className:"row justify-content-center",style:{height:"3vh"}},o.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",o.a.createElement(W.a,{to:"/login"},"Log in"))),o.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:$()("",{invalid:e.name})}),o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("span",{className:"red-text"},e.name)),o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:$()("",{invalid:e.email})}),o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("span",{className:"red-text"},e.email)),o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:$()("",{invalid:e.password})}),o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("span",{className:"red-text"},e.password)),o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:$()("",{invalid:e.password2})}),o.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),o.a.createElement("span",{className:"red-text"},e.password2)),o.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},o.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up")))))}}]),a}(n.Component)),te=Object(j.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){d.a.post("/api/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:f,payload:e.response.data})}))}}})(Object(X.a)(ee)),ae=function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(Q.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(V.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",password:"",errors:{},challenge:{}},e}return Object(z.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"authbg"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{style:{height:"10vh"},className:"row"},o.a.createElement("div",{className:"col sm"},o.a.createElement("text",{style:{fontFamily:"monospace",fontSize:"30px"},className:"brand-logo black-text"},o.a.createElement("i",{className:"material-icons"},"code"),"CompCoder",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null)))),o.a.createElement("div",{style:{height:"10vh"},className:"row"},o.a.createElement(W.a,{to:"/",className:"btn-flat waves-effect"},o.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home")),o.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},o.a.createElement("h4",null,o.a.createElement("b",null,"Login")," below"),o.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",o.a.createElement(W.a,{to:"/register"},"Register"))),o.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:$()("",{invalid:e.email||e.emailnotfound})}),o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),o.a.createElement("div",{className:"input-field col s12"},o.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:$()("",{invalid:e.password||e.passwordincorrect})}),o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),o.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},o.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login")))))}}]),a}(n.Component),ne=Object(j.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){d.a.post("/api/users/login",e).then((function(e){console.log(e.data);var a=e.data.token;localStorage.setItem("userToken",a),h(a);var n=u()(a);t(w(n))})).catch((function(e){return t({type:f,payload:e.response.data})}))}}})(ae),oe=a(284),se=a(628),le=["component","auth"],re=Object(j.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(oe.a)(e,le);return o.a.createElement(i.a,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?o.a.createElement(t,e):o.a.createElement(se.a,{to:"/login"})}}))})),ie=(a(470),function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={minutes:0,seconds:30},e}return Object(z.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.setState({minutes:localStorage.getItem("checkInMinutes")||0,seconds:localStorage.getItem("checkInSeconds")||30}),this.checkInterval=setInterval((function(){e.state.seconds>0&&e.setState({seconds:e.state.seconds-1}),0===e.state.seconds&&(0===e.state.minutes?(e.props.timesUp(),clearInterval(e.checkInterval)):e.setState({minutes:e.state.minutes-1,seconds:59})),localStorage.setItem("checkInMinutes",e.state.minutes),localStorage.setItem("checkInSeconds",e.state.seconds)}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.checkInterval),console.log("unmount timer"),localStorage.removeItem("checkInMinutes"),localStorage.removeItem("checkInSeconds")}},{key:"render",value:function(){var e=this.state,t=e.minutes,a=e.seconds;return o.a.createElement("div",null,0===t&&0===a?o.a.createElement("h4",null,"00:00"):o.a.createElement("h4",null,t,": ",a<10?"0"+a:a))}}]),a}(n.Component)),ce=function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={minutes:0,seconds:30},e}return Object(z.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.setState({minutes:localStorage.getItem("compMinutes")||0,seconds:localStorage.getItem("compSeconds")||30}),this.compInterval=setInterval((function(){e.state.seconds>0&&e.setState({seconds:e.state.seconds-1}),0===e.state.seconds&&(0===e.state.minutes?(e.props.timesUp(),clearInterval(e.compInterval)):e.setState({minutes:e.state.minutes-1,seconds:59})),localStorage.setItem("compMinutes",e.state.minutes),localStorage.setItem("compSeconds",e.state.seconds)}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.compInterval),console.log("unmount timer"),localStorage.removeItem("compMinutes"),localStorage.removeItem("compSeconds")}},{key:"render",value:function(){var e=this.state,t=e.minutes,a=e.seconds;return o.a.createElement("div",null,0===t&&0===a?o.a.createElement("h4",null,"00:00"):o.a.createElement("h4",null,t,": ",a<10?"0"+a:a))}}]),a}(n.Component),me=a(627),ue=a(281),pe=a.n(ue),de=function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(Q.a)(this,a),(n=t.call(this,e)).onLogoutClick=function(e){e.preventDefault(),n.props.logoutUser()},n.getData=function(e){n.setState({lobbies:e})},n.changeLobbies=function(){return P.emit("getLobbies")},n.getNamesToLobbies=function(e){n.setState({namesToLobbies:e})},n.getGames=function(e){var t,a,o,s,l,r,i,c,m;console.log(P),P.emit("getLobbies"),P.on("lobbies",n.getData),P.on("namesToLobbies",n.getNamesToLobbies);var u=document.getElementById("lobbyTable");u.style="border: 1px solid black; padding: 10px;",u.textContent="",(t=u.insertRow(-1)).height="30px",i=t.insertCell(-1),c=t.insertCell(-1),m=t.insertCell(-1),r=t.insertCell(-1),a=document.createElement("text"),o=document.createElement("text"),s=document.createElement("text"),l=document.createElement("text"),a.type="text",o.type="text",s.type="text",l.type="text",a.style="font-size: 25px;",o.style="font-size: 25px;",s.style="font-size: 25px;",l.style="font-size: 25px;",o.textContent="Lobby Name",s.textContent="Username",l.textContent="Rank",a.textContent="Click to Join",r.appendChild(a),i.appendChild(o),c.appendChild(s),m.appendChild(l);var p=0;p=n.state.lobbies.length<10?n.state.lobbies.length:10;for(var d=0;d<p;d++){(t=u.insertRow(-1)).height="30px",i=t.insertCell(-1),c=t.insertCell(-1),m=t.insertCell(-1),r=t.insertCell(-1),a=document.createElement("button"),o=document.createElement("text"),s=document.createElement("text"),l=document.createElement("text"),a.type="button",o.type="text",s.type="text",l.type="text",a.className="btn blue darken-3 waves-effect waves-light",o.style="font-size: 20px;",s.style="font-size: 20px",l.style="font-size: 20px",o.textContent=n.state.lobbies[d].room.split("/")[0];try{s.textContent=n.state.namesToLobbies[d].name,l.textContent=n.getRank(n.state.namesToLobbies[d].rank)}catch(g){s.textContent="Refresh to view",l.textContent="Refresh to view"}a.textContent="Join",a.value=n.state.lobbies[d].room,a.onclick=n.joinGame,(n.state.isLobbyCreated||n.state.lobbies[d].user===P.id)&&(a.disabled=!0),r.appendChild(a),i.appendChild(o),c.appendChild(s),m.appendChild(l)}var h=document.getElementById("pageButtons");h.textContent="",t=h.insertRow(-1);for(d=0;10*d<n.state.lobbies.length;)r=t.insertCell(-1),a=document.createElement("button"),r.width="20px",a.type="button",a.textContent=d+1,a.value=d+1,r.onclick=n.getPageOfLobbies,r.appendChild(a),d++},n.getPageOfLobbies=function(e){var t,a,o,s,l,r,i,c,m,u=e.target.value,p=document.getElementById("lobbyTable");p.style="border: 1px solid black; padding: 10px;",p.textContent="",(t=p.insertRow(-1)).height="5vh",i=t.insertCell(-1),c=t.insertCell(-1),m=t.insertCell(-1),r=t.insertCell(-1),a=document.createElement("text"),o=document.createElement("text"),s=document.createElement("text"),l=document.createElement("text"),a.type="text",o.type="text",s.type="text",l.type="text",a.style="font-size: 25px;",o.style="font-size: 25px;",s.style="font-size: 25px;",l.style="font-size: 25px;",o.textContent="Lobby Name",s.textContent="Username",l.textContent="Rank",a.textContent="Click to Join",r.appendChild(a),i.appendChild(o),c.appendChild(s),m.appendChild(l);var d=0;d=n.state.lobbies.length<10*u?n.state.lobbies.length:10*u;for(var h=10*(u-1);h<d;h++){i=(t=p.insertRow(-1)).insertCell(-1),c=t.insertCell(-1),m=t.insertCell(-1),r=t.insertCell(-1),a=document.createElement("button"),o=document.createElement("text"),s=document.createElement("text"),l=document.createElement("text"),a.type="button",o.type="text",s.type="text",l.type="text",a.className="btn blue darken-3 waves-effect waves-light",o.style="font-size: 20px;",s.style="font-size: 20px",l.style="font-size: 20px",o.textContent=n.state.lobbies[h].room.split("/")[0];try{s.textContent=n.state.namesToLobbies[h].name,l.textContent=n.getRank(n.state.namesToLobbies[h].rank)}catch(f){s.textContent="Refresh to view",l.textContent="Refresh to view"}a.textContent="Join",a.value=n.state.lobbies[h].room,a.onclick=n.joinGame,n.state.lobbies[h].user===P.id&&(a.disabled=!0),r.appendChild(a),i.appendChild(o),c.appendChild(s),m.appendChild(l)}var g=document.getElementById("pageButtons");g.textContent="",t=g.insertRow(-1);for(h=0;10*h<n.state.lobbies.length;)r=t.insertCell(-1),a=document.createElement("button"),r.width="20px",a.type="button",a.textContent=h+1,a.value=h,r.onclick=n.getPageOfLobbies,r.appendChild(a),h++},n.createLobby=function(e,t){return function(a){if(console.log(n.props.auth.user.coolDownEnd-(new Date).getTime()),console.log(n.props.auth.user.isCoolDown),console.log(n.props.auth.user.name),n.state.isQueued)n.showIsQueuedAlert();else if(n.props.auth.user.isCoolDown&&n.props.auth.user.coolDownEnd-(new Date).getTime()>0)n.showCoolDownWaitModal();else if(n.props.auth.user.isCoolDown&&n.props.endCoolDown(),console.log(n.props.room),document.getElementById("createLobbyButton").disabled=!0,document.getElementById("destroyLobbyButton").disabled=!1,n.state.isLobbyCreated);else{var o=100+Math.floor(10*Math.random())+1;console.log(o),P.emit("createGame",{name:e,rank:t,ID:o}),P.on("newGame",(function(e){n.setState({isLobbyCreated:!0}),n.setState({lobby:e.room}),n.props.setCurrentRoom({room:e.room}),n.props.challengeUser({ID:e.room.split("/")[1]}),n.props.setIsCompetitive({name:n.props.auth.user.name,isCompetitive:!1}),n.showCreateModal(),console.log("set")})),P.on("joinerReady",(function(e){n.showCheckInModal()}))}}},n.joinGame=function(e){var t=e.target.value;if(n.state.isQueued)n.showIsQueuedAlert();else if(n.props.auth.user.isCoolDown&&n.props.auth.user.coolDownEnd-(new Date).getTime()>0)n.showCoolDownWaitModal();else{n.props.auth.user.isCoolDown&&n.props.endCoolDown(),console.log(t);var a=t.split("/")[1];console.log(a),console.log(t.split("/")[1]),P.emit("gameJoin",{room:t}),P.on("isJoinSuccessful",(function(e){e.success?(n.showJoinGameModal(),console.log("roomNotFull"),console.log(a),console.log(t),n.props.challengeUser({ID:t.split("/")[1]}),n.props.setCurrentRoom({room:t}),n.props.setIsCompetitive({name:n.props.auth.user.name,isCompetitive:!1}),console.log(t),P.emit("joinerReady",{room:t}),P.on("creatorReady",(function(){console.log("creatorready"),n.setState({isGameReady:!0}),n.props.history.push("/challengePage")})),P.on("creatorDidntCheckIn",(function(){n.showCreaterDidntConfirmModal(),P.emit("leaveAsCreatorDidntCheck",{room:t}),n.props.removeChallenge(),n.props.removeRoom()}))):e.success||n.showGameFullModal()}))}},n.destroyLobby=function(e){n.setState({isLobbyCreated:!1,lobby:""}),P.emit("joinGameAfterCreateGame",{user:n.props.auth.name,room:n.props.room.room}),n.props.removeRoom(),n.props.removeChallenge(),document.getElementById("destroyLobbyButton").disabled=!0,document.getElementById("createLobbyButton").disabled=!1},n.getRank=function(e){var t;return console.log(n.props.auth.user.rank),t=1===(e/100|0)?"Wood ":2===(e/100|0)?"Bronze ":3===(e/100|0)?"Silver ":4===(e/100|0)?"Gold ":5===(e/100|0)?"Platinum ":6===(e/100|0)?"Diamond ":"Global Elite ",t+=e%100<=25?"1":e%100<=50?"2":e%100<=75?"3":"4"},n.showCreateModal=function(){console.log("show"),n.setState({showCreate:!0})},n.closeCreateModal=function(){n.setState({showCreate:!1})},n.showCheckInModal=function(){console.log("show"),n.setState({showCheckIn:!0})},n.closeCheckInModal=function(){n.setState({showCheckIn:!1})},n.showJoinGameModal=function(){console.log("show"),n.setState({showJoinGame:!0})},n.closeJoinGameModal=function(){n.setState({showJoinGame:!1})},n.showCreaterDidntConfirmModal=function(){console.log("show"),n.setState({showCreaterDidntConfirm:!0})},n.closeCreaterDidntConfirmModal=function(){n.setState({showCreaterDidntConfirm:!1})},n.showGameFullModal=function(){console.log("show"),n.setState({showGameFull:!0})},n.closeGameFullModal=function(){n.setState({showGameFull:!1})},n.showCoolDownWaitModal=function(){console.log("show"),n.setState({showCoolDownWait:!0})},n.closeCoolDownWaitModal=function(){n.setState({showCoolDownWait:!1})},n.showConfirmCompModal=function(){n.setState({showConfirmComp:!0})},n.closeIsQueuedAlert=function(){n.setState({showIsQueued:!1})},n.showIsQueuedAlert=function(){n.setState({showIsQueued:!0})},n.createrCheckedIn=function(){console.log("ready"),console.log(n.props.room.room),P.emit("beginGame",{room:n.props.room.room}),n.setState({isGameReady:!0}),n.props.history.push("/challengePage")},n.compCheckIn=function(){P.emit("compCheckedIn",{room:n.props.room.room}),n.setState({isCheckedIn:!0}),n.state.isOpponentCheckedIn&&(console.log("their checked in"),n.setState({isGameReady:!0}),n.props.history.push("/challengePage"))},n.timesUp=function(){n.props.removeChallenge(),n.props.removeRoom(),P.emit("checkInNoGood",{room:n.props.room.room})},n.compTimesUp=function(){n.props.removeChallenge(),n.props.removeRoom(),P.emit("compTimesUp",{room:n.props.room.room}),n.setState({isQueued:!1})},n.compQueue=function(e){e.preventDefault(),console.log("compQueuecalled"),document.getElementById("startCompSearchButton").disabled=!0,document.getElementById("endCompSearchButton").disabled=!1,n.setState({isQueued:!0});var t=(new Date).getTime()/1e3;console.log(t),P.emit("compQueue",{name:n.props.auth.user.name,rank:n.props.auth.user.rank,time:t,socketID:P.id}),P.emit("getNumberOfPeopleQueuing"),P.on("numberOfPeopleQueuing",(function(e){document.getElementById("tellNumOfPplInQueue").textContent="There are currently "+e.num+" people queued up"})),n.peopleQueuingInterval=setInterval((function(){P.emit("getNumberOfPeopleQueuing"),P.on("numberOfPeopleQueuing",(function(e){document.getElementById("tellNumOfPplInQueue").textContent="There are currently "+e.num+" people queued up"}))}),3e3),n.queueInterval=setInterval((function(){console.log("interval"),P.emit("checkPriorityQueue",{name:n.props.auth.user.name,rank:n.props.auth.user.rank,time:t})}),5e3),P.on("foundPerson",(function(e){console.log("foundPerson"),clearInterval(n.queueInterval),clearInterval(n.peopleQueuingInterval),document.getElementById("tellNumOfPplInQueue").textContent="";var t=100+Math.floor(8*Math.random())+1;P.emit("queueCreateLobby",{index:e.index,challengeID:t,name:n.props.auth.user.name}),P.on("compRoomCreated",(function(e){console.log(e.challengeID),n.props.challengeUser({ID:e.challengeID}),n.props.setCurrentRoom({room:e.room}),n.props.setIsCompetitive({name:n.props.auth.user.name,isCompetitive:!0}),n.showConfirmCompModal(),P.on("opponentCheckedIn",(function(){console.log("opponentCheckedIn"),n.setState({isOpponentCheckedIn:!0}),n.state.isCheckedIn&&(console.log("im checked in"),n.setState({isGameReady:!0}),n.props.history.push("/challengePage"))}))}))})),P.on("personFoundYou",(function(e){console.log("found"),clearInterval(n.queueInterval),clearInterval(n.peopleQueuingInterval),document.getElementById("tellNumOfPplInQueue").textContent="",P.on("compRoomCreated",(function(e){console.log(e.challengeID),n.props.challengeUser({ID:e.challengeID}),n.props.setCurrentRoom({room:e.room}),n.props.setIsCompetitive({name:n.props.auth.user.name,isCompetitive:!0}),n.showConfirmCompModal(),P.on("opponentCheckedIn",(function(){n.setState({isOpponentCheckedIn:!0}),n.state.isCheckedIn&&(console.log("im checked in"),n.setState({isGameReady:!0}),n.props.history.push("/challengePage"))}))}))}))},n.endCompQueue=function(e){e.preventDefault(),P.emit("endCompSearch",{name:n.props.auth.user.name}),clearInterval(n.queueInterval),clearInterval(n.peopleQueuingInterval),document.getElementById("tellNumOfPplInQueue").textContent="",n.setState({isQueued:!1}),document.getElementById("startCompSearchButton").disabled=!1,document.getElementById("endCompSearchButton").disabled=!0},console.log("redirected"),n.state={lobbies:[],namesToLobbies:[],isGameReady:!1,isLobbyCreated:!1,lobby:"",showCreate:!1,showCheckIn:!1,showJoinGame:!1,showCreaterDidntConfirm:!1,showGameFull:!1,showCoolDownWait:!1,showConfirmComp:!1,showIsQueued:!1,userRank:"",queueTime:0,queueInterval:{},isQueued:!1,isOpponentCheckedIn:!1,isCheckedIn:!1},n.props.isChallenge&&(console.log("isChallenge"),n.props.removeChallenge()),n.props.isRoom&&(console.log("isRoom"),n.props.removeRoom()),n}return Object(z.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.auth.isChallenge&&e.auth.isRoom&&this.state.isGameReady&&this.props.history.push("/challengePage")}},{key:"componentDidMount",value:function(){this.getRank(),console.log(this.props.challenge),console.log(this.props.room),this.props.isChallenge&&(console.log("remove"),this.props.removeChallenge()),this.props.isRoom&&(console.log("remove"),P.emit("opponentLeft",{room:this.props.room}),this.props.removeRoom()),console.log(this.props.challenge),console.log(this.props.room),this.getGames(),P.emit("endCompSearch",{name:this.props.auth.user.name})}},{key:"render",value:function(){var e=this.props.auth.user;return o.a.createElement("div",{className:"dashboardbg"},o.a.createElement("div",{style:{width:"90vw",margin:"auto"}},o.a.createElement(me.a,{show:this.state.showCreate,onHide:this.closeCreateModal,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"You have created a lobby!"),o.a.createElement("p",null,"Your lobby name is ",this.state.lobby),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.closeCreateModal},"OK"))),o.a.createElement(me.a,{show:this.state.showCheckIn,onHide:this.closeCheckInModal,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"Someone has joined your lobby!"),o.a.createElement("p",null,"Please hit the button below to confirm, and start the match!"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-start"},o.a.createElement(ie,{timesUp:this.timesUp})),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.createrCheckedIn},"Join"))),o.a.createElement(me.a,{show:this.state.showJoinGame,onHide:this.closeJoinGameModal,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"You have requested to join this game"),o.a.createElement("p",null,"Just waiting for the creator to confirm..."),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.closeJoinGameModal},"OK"))),o.a.createElement(me.a,{show:this.state.showGameFull,onHide:this.closeGameFullModal,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"This game is now full"),o.a.createElement("p",null,"Sorry, hit refresh to get the most updated list of games"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.closeGameFullModal},"OK"))),o.a.createElement(me.a,{show:this.state.showCreaterDidntConfirm,onHide:this.closeCreaterDidntConfirm,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"The other player failed to confirm the game"),o.a.createElement("p",null,"Either join another game, or start one yourself!"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.closeCreaterDidntConfirmModal},"OK"))),o.a.createElement(me.a,{show:this.state.showCoolDownWait,onHide:this.closeCoolDownWait,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"You are still cooling down from a match abandon"),o.a.createElement("p",null,"Please wait another ",(this.props.auth.user.coolDownEnd-(new Date).getTime())/1e3," seconds"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.closeCoolDownWaitModal},"OK"))),o.a.createElement(me.a,{show:this.state.showConfirmComp,variant:"info",style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"A game has been found!"),o.a.createElement("p",null,"Please hit the button below to confirm, and start the match!"),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-start"},o.a.createElement(ce,{timesUp:this.compTimesUp})),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.compCheckIn},"Join"))),o.a.createElement(me.a,{show:this.state.showIsQueued,onHide:this.closeIsQueuedAlert,variant:"info",dismissable:!0,style:{position:"fixed",zIndex:"1",width:"80vw"}},o.a.createElement(me.a.Heading,null,"You can't create join a casual lobby when in line for a competitive game!"),o.a.createElement("p",null,"If you'd like to play a casual game instead, you can end your competitive search..."),o.a.createElement("hr",null),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(q.a,{onClick:this.closeIsQueuedAlert},"OK"))),o.a.createElement("div",{className:"row",style:{height:"3vh"}},o.a.createElement("div",{className:"col sm"},o.a.createElement("text",{style:{fontFamily:"monospace",fontSize:"30px",textAlign:"center"},className:"brand-logo black-text"},o.a.createElement("i",{className:"material-icons"},"code"),"CompCoder"))),o.a.createElement("hr",null),o.a.createElement("div",{className:"row d-flex",style:{height:"5vh"}},o.a.createElement("div",{className:"mr-auto"},o.a.createElement(q.a,{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",backgroundColor:"rgb(71, 214, 114)"},onClick:this.onLogoutClick},"Logout")),o.a.createElement("div",{className:"ml-auto"},o.a.createElement("text",null,o.a.createElement("b",null,e.name.split(" ")[0]),", ",this.getRank(this.props.auth.user.rank)))),o.a.createElement("div",{className:"row",style:{height:"40vh"}},o.a.createElement("div",{className:"col-sm",style:{border:"1px solid black",marginRight:"8px",backgroundColor:"rgba(153, 255, 255, 0.2)"}},o.a.createElement("div",{className:"row justify-content-center",style:{height:"4vh"}},o.a.createElement("h3",null,"Welcome, to the gauntlet...")),o.a.createElement("div",{className:"row justify-content-left",style:{height:"15vh"}},o.a.createElement("p",{class:"tieReminder"},"-Compete 1-on-1 against others in real time on a variety of programming problems.",o.a.createElement("br",null),o.a.createElement("br",null),"-To the right, you'll see you can queue up for a competitive game against people of similar skills.",o.a.createElement("br",null),o.a.createElement("br",null),"-Want a laid back game? Below you'll see casual games, where you can either create or join a lobby to play with somebody, or add a friend, and play with them instead"))),o.a.createElement("div",{className:"col-sm",style:{border:"1px solid black",marginLeft:"8px",marginBottom:"10vh",backgroundColor:"rgba(153, 255, 255, 0.2)"}},o.a.createElement("div",{className:"row justify-content-center",style:{height:"8vh"}},o.a.createElement("text",{class:"compTitle"},o.a.createElement("b",null,"Feeling confident? Play competitive to queue up with people of a similar rank!"))),o.a.createElement("div",{className:"d-flex row",style:{height:"6vh"}},o.a.createElement("div",{className:"mr-auto",style:{marginLeft:"5vw"}},o.a.createElement(q.a,{id:"startCompSearchButton",onClick:this.compQueue,style:{backgroundColor:"rgb(71, 214, 114)",width:"15vw"}},"Queue")),o.a.createElement("div",{className:"ml-auto",style:{marginRight:"5vw"}},o.a.createElement(q.a,{id:"endCompSearchButton",onClick:this.endCompQueue,style:{backgroundColor:"rgb(185, 82, 100)",width:"15vw"}},"Cancel"))),o.a.createElement("div",{className:"d-flex row justify-content-center",style:{height:"4vh"}},o.a.createElement("text",{id:"tellNumOfPplInQueue"})),o.a.createElement("div",{className:"d-flex row justify-content-center",style:{height:"8vh"}},o.a.createElement(pe.a,{color:"#66ff66",loading:this.state.isQueued,size:100})))),o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("h4",null,o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("br",null),"Join a casual game")),o.a.createElement("div",{className:"row d-flex"},o.a.createElement("div",{class:"mr-auto"},o.a.createElement(q.a,{style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",float:"left"},onClick:this.getGames},"Refresh")),o.a.createElement("div",{class:"ml-auto"},o.a.createElement(q.a,{style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.createLobby(e.name,e.rank),id:"createLobbyButton"},"Create"),o.a.createElement(q.a,{id:"destroyLobbyButton",style:{width:"100px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.destroyLobby},"Leave"))),o.a.createElement("h5",null," "),o.a.createElement("div",{className:"row justify-content-center",style:{height:"65vh"}},o.a.createElement("div",{style:{width:"93vw"}},o.a.createElement("table",{id:"lobbyTable",className:"bordered",style:{border:"1px solid black",padding:"10px"}})),o.a.createElement("div",{className:"col sm"},o.a.createElement("table",{id:"pageButtons"}))),o.a.createElement("div",{className:"d-flex row justify-content-center",style:{height:"8vh"}},o.a.createElement("p",{className:"bottomText",style:{width:"100vw"}},o.a.createElement("hr",null),"This site was created by Jacob Richichi",o.a.createElement("br",null))),o.a.createElement("div",{className:"d-flex row justify-content-center",style:{height:"5vh"}},o.a.createElement(W.a,{to:"/bugReport"},o.a.createElement("p",{className:"bottomText"},"Found a bug? Click here to let me know!")))))}}]),a}(n.Component),he=Object(j.b)((function(e){return{auth:e.auth,challenge:e.auth.challenge,isChallenge:e.auth.isChallenge,room:e.auth.room,isRoom:e.auth.isRoom}}),{logoutUser:C,challengeUser:x,setCurrentRoom:function(e){return function(t){d.a.post("api/users/getRoom",e).then((function(e){var a=e.data.token;localStorage.setItem("roomToken",a);var n=u()(a);t(S(n))})).catch((function(e){return console.log(e.response.data)}))}},removeChallenge:I,removeRoom:N,endCoolDown:function(e){return function(t){d.a.post("/api/users/endCoolDown",e).then((function(e){var a=e.data.token;console.log("setting local storage"),localStorage.setItem("userToken",a),console.log("setting authtoken"),h(a);var n=u()(a);console.log("dispatching"),t(w(n))})).catch((function(e){console.log(e),t({type:f,payload:e.response.data})}))}},setIsCompetitive:function(e){return function(t){d.a.post("/api/users/setIsCompetitive",e).then((function(e){}))}}})(de),ge=function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(Q.a)(this,a),(e=t.call(this)).onChallengeClick=function(t){t.preventDefault();var a={difficulty:e.state.difficulty};e.props.challengeUser(a,e.props.history)},e.onChange=function(t){e.setState({difficulty:t.target.value})},e.state={difficulty:""},e}return Object(z.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},o.a.createElement("div",{className:"row"},o.a.createElement("h4",null,"Select your difficulty!"),o.a.createElement("div",{class:"input-field col s12"},o.a.createElement("select",{class:"browser-default",onChange:this.onChange,value:this.state.difficulty},o.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose your difficulty"),o.a.createElement("option",{value:"1"},"Beginner"),o.a.createElement("option",{value:"2"},"Intermediate"),o.a.createElement("option",{value:"3"},"Hard"),o.a.createElement("option",{value:"4"},"Expert"))),o.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onChallengeClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Go")))}}]),a}(n.Component),fe=Object(j.b)((function(e){return{auth:e.auth}}),{challengeUser:x})(ge),be=a(87),ve=a.n(be),ye=a(156),Ee=(a(482),a(273),function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(Q.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={minutes:0,seconds:30},e}return Object(z.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.setState({minutes:localStorage.getItem("minutes")||0,seconds:localStorage.getItem("seconds")||30}),this.myInterval=setInterval((function(){e.state.seconds>0&&e.setState({seconds:e.state.seconds-1}),0===e.state.seconds&&(0===e.state.minutes?(e.props.timesUp(),clearInterval(e.myInterval)):(15!==e.state.minutes&&10!==e.state.minutes&&5!==e.state.minutes&&1!==e.state.minutes||e.props.intervalUpdate(),e.setState({minutes:e.state.minutes-1,seconds:59}))),localStorage.setItem("minutes",e.state.minutes),localStorage.setItem("seconds",e.state.seconds)}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval),console.log("unmount"),localStorage.removeItem("minutes"),localStorage.removeItem("seconds")}},{key:"render",value:function(){var e=this.state,t=e.minutes,a=e.seconds;return o.a.createElement("div",null,0===t&&0===a?o.a.createElement("span",{style:{fontFamily:"digital-clock-font",fontSize:"30px"}},"00:00"):o.a.createElement("span",{style:{fontFamily:"digital-clock-font",fontSize:"30px"}},t,": ",a<10?"0"+a:a))}}]),a}(n.Component)),we=a(626),Ce=a(282),xe=a(283),ke=function(e){Object(A.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(Q.a)(this,a),(n=t.call(this,e)).back=function(e){e.preventDefault(),n.state.isGameFinished?(n.setState({leaving:!0}),P.emit("endGame",{room:n.props.room.room}),n.props.history.push("/dashboard")):n.showConfirmLeave()},n.confirmedAbandon=function(e){e.preventDefault(),n.setState({leaving:!0}),P.emit("endGame",{room:n.props.room.room}),n.props.coolDown({name:n.props.user.name,time:(new Date).getTime()+18e5}),n.props.history.push("/dashboard")},n.opponentLeave=function(){n.setState({leaving:!0}),n.props.history.push("/dashboard")},n.backMyFault=function(){n.setState({leaving:!0}),P.emit("endGame",{room:n.props.room.room}),n.props.history.push("/dashboard")},n.input=function(e,t){n.state.firstInput||parseInt(n.props.room.room.split("/")[1])!==n.props.challenge.challenge.i&&n.backMyFault(),P.emit("checkRoom"),localStorage.setItem("srcCode",e),n.setState({input:e,count:1,firstInput:!0})},n.userInput=function(e){e.preventDefault(),n.setState({user_input:e.target.value})},n.submit=function(){var e=Object(ye.a)(ve.a.mark((function e(t){var a,o,s,l,r,i,c,m,u,p,d,h,g,f,b,v,y,E,w,C,x,k,I,S;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(((a=(new Date).getTime())-n.state.timeOfLastRun)/1e3>=30)){e.next=62;break}for(n.setState({timeOfLastRun:(new Date).getTime()}),o=document.getElementById("output").textContent,o=document.getElementById("output"),s=n.props.challenge.challenge,l=0,r="",i=n.state.input,c=(new Date).getTime()-n.state.startTime,m="\tpublic static void main(String[] args){\n",u=0,"",p="",d={},h=!0,g={},f=0,b=0,v=0,y=0,l=0;l<s.inputs.length;l++){for(m=m+"\t\ttry{\n\t\t\tSystem.out.println("+s.methodName+"(",E=0;E<s.inputs[l].length;E++)m+=s.inputs[l][E],E<s.inputs[l].length-1&&(m+=", ");m+="));}\n\t\tcatch(Exception e){\n\t\t\tSystem.out.println(e.toString());\n\t\t}\n"}m+="\t}\n";case 24:if(!(i.length>0)){e.next=37;break}if(u=i.indexOf("\n"),0===i.indexOf("public class Main")){e.next=31;break}r+=i.substring(0,u+1),i=i.substring(u+1,i.length),e.next=35;break;case 31:return r=r+"\n"+s.dataStructure+"\n"+i.substring(0,u+1),i=i.substring(u+1,i.length),r=r.concat(m,i),e.abrupt("break",37);case 35:e.next=24;break;case 37:return e.next=39,fetch("https://judge0-extra.p.rapidapi.com/submissions",{method:"POST",headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb","content-type":"application/json",accept:"application/json"},body:JSON.stringify({source_code:r,language_id:62})});case 39:return w=e.sent,e.next=42,w.json();case 42:C=e.sent,x={status:{description:"Queue"},stderr:null,compile_output:null};case 44:if("Accepted"===x.status.description||null!=x.stderr||null!=x.compile_output){e.next=58;break}if(!(++y>100)){e.next=48;break}return e.abrupt("break",58);case 48:if(!C.token){e.next=56;break}return k="https://judge0-extra.p.rapidapi.com/submissions/".concat(C.token,"?base64_encoded=true"),e.next=52,fetch(k,{method:"GET",headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb","content-type":"application/json"}});case 52:return I=e.sent,e.next=55,I.json();case 55:x=e.sent;case 56:e.next=44;break;case 58:if(x.stdout){for(p=atob(x.stdout),b=x.time,v=x.memory,g=p.split("\n"),S=0;S<g.length;S++)g[S]===s.outputs[S]?(d[S]=!0,f++):(h=!1,d[S]=!1);r="You passed "+f+"/"+s.inputs.length+" cases, and it took you "+c/1e3+" seconds. The average run time was "+b/s.inputs.length+" ms and you used "+v+" KB of memory!\nDid all test cases pass?: "+h+"\n\n",localStorage.setItem("numCorrect",f),localStorage.setItem("runTime",b),localStorage.setItem("memory",v)}else x.stderr?(p=atob(x.stderr),r=p,h=!1):(p=atob(x.compile_output),r=p,h=!1);o.textContent=r,e.next=63;break;case 62:document.getElementById("warningText").textContent="Please wait another "+(30-(a-n.state.timeOfLastRun)/1e3)+" seconds to run again";case 63:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.timesUp=Object(ye.a)(ve.a.mark((function e(){var t,a,o,s,l,r,i,c,m,u,p,d,h,g,f,b,v,y,E,w,C,x,k,I,S,N,j,O,T;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.setState({isGameFinished:!0}),t=document.getElementById("output"),a=n.props.challenge.challenge,o="",s=!1,l=!1,c=2,m=0,P.on("opponentsChallengeInfo",(function(e){if(o="Your opponent passed "+e.oppNumCorrect+"/"+a.inputs.length+" cases. Their run time was "+e.oppRunTime+" ms and they used "+e.oppMemory+" KB of memory!\nDid all their test cases pass?: "+e.oppCorrect+"\n\n",n.setState({theirFinishInfo:o}),l=!0,console.log("OCI"),!0===s){console.log("hasown"),p+=o;var m="";r<E?(m="You passed more test cases, so you won :)",p+="\nYou passed more test cases, so you won :)",c=1):r>E?(m="They passed more test cases, so you lost :(",p+="\nThey passed more test cases, so you lost :(",c=0):(m="You both had the same number of case right",p+="\nYou both had the same number of case right",w<i?(m+=", but you had a better run time, so you win :^)",p+=", but you had a better run time, so you win :^)",c=1):i<w?(m+=", but they had a better run time, so you lost :^(",p+=", but they had a better run time, so you lost :^(",c=0):(m+=", and you both somehow had the same runtime. Lets call it a draw",p+=", and you both somehow had the same runtime. Lets call it a draw ",c=2)),t.textContent=p,n.setState({winnerInfo:m}),n.showGameFinishedAlert(),n.props.user.isCompetitive&&(0===c?n.props.user.rank-20>=100&&n.props.updateUserRank({name:n.props.user.name,rank:n.props.user.rank,eloUpdate:-20}):1===c&&n.props.user.rank+20<=799&&n.props.updateUserRank({name:n.props.user.name,rank:n.props.user.rank,eloUpdate:20}))}else console.log("no hasown yet"),r=e.oppNumCorrect,i=e.oppRunTime,e.oppMemory,e.oppCorrect})),u=0,p="",d=n.state.input,(new Date).getTime()-n.state.startTime,h="\tpublic static void main(String[] args){\n",g=0,"",f="",b={},v=!0,y={},E=0,w=0,C=0,u=0;u<a.inputs.length;u++){for(h=h+"\t\ttry{\n\t\t\tSystem.out.println("+a.methodName+"(",x=0;x<a.inputs[u].length;x++)h+=a.inputs[u][x],x<a.inputs[u].length-1&&(h+=", ");h+="));}\n\t\tcatch(Exception e){\n\t\t\tSystem.out.println(e.toString());\n\t\t}\n"}h+="\t}\n";case 25:if(!(d.length>0)){e.next=38;break}if(g=d.indexOf("\n"),0===d.indexOf("public class Main")){e.next=32;break}p+=d.substring(0,g+1),d=d.substring(g+1,d.length),e.next=36;break;case 32:return p=p+"\n"+a.dataStructure+"\n"+d.substring(0,g+1),d=d.substring(g+1,d.length),p=p.concat(h,d),e.abrupt("break",38);case 36:e.next=25;break;case 38:return e.next=40,fetch("https://judge0-extra.p.rapidapi.com/submissions",{method:"POST",headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb","content-type":"application/json",accept:"application/json"},body:JSON.stringify({source_code:p,language_id:62})});case 40:return k=e.sent,console.log("running code"),e.next=44,k.json();case 44:I=e.sent,S={status:{description:"Queue"},stderr:null,compile_output:null},console.log("running code 2");case 47:if("Accepted"===S.status.description||null!=S.stderr||null!=S.compile_output){e.next=63;break}if(!(++m>100)){e.next=51;break}return e.abrupt("break",63);case 51:if(!I.token){e.next=61;break}return console.log("token"),N="https://judge0-extra.p.rapidapi.com/submissions/".concat(I.token,"?base64_encoded=true"),e.next=56,fetch(N,{method:"GET",headers:{"x-rapidapi-host":"judge0-ce.p.rapidapi.com","x-rapidapi-key":"e51bc475ffmshb688bd7febd7bdap175735jsn486eb27febcb","content-type":"application/json"}});case 56:return j=e.sent,console.log("await get solution"),e.next=60,j.json();case 60:S=e.sent;case 61:e.next=47;break;case 63:if(S.stdout){for(console.log("solution got"),f=atob(S.stdout),w=S.time,C=S.memory,y=f.split("\n"),O=0;O<y.length;O++)y[O]===a.outputs[O]?(b[O]=!0,E++):(v=!1,b[O]=!1);p="You passed "+E+"/"+a.inputs.length+" cases. The run time was "+w+" ms and you used "+C+" KB of memory!\nDid all test cases pass?: "+v+"\n\n",n.setState({yourFinishInfo:p})}else S.stderr?(f=atob(S.stderr),p=f,v=!1):(f=atob(S.compile_output),p=f,v=!1);s=!0,console.log("finished running code"),P.emit("myChallengeInfo",{room:n.props.room.room,numCorrect:E,runTime:w,memory:C,correct:v}),l&&(T="",console.log("hasopp"),p+=o,r<E?(T="You passed more test cases, so you won :)",p+="\nYou passed more test cases, so you won :)",c=1):r>E?(T="They passed more test cases, so you lost :(",p+="\nThey passed more test cases, so you lost :(",c=0):(T="You both had the same number of case right",p+="\nYou both had the same number of case right",w<i?(T+=", but you had a better run time, so you win :^)",p+=", but you had a better run time, so you win :^)",c=1):i<w?(T+=", but they had a better run time, so you lost :^(",p+=", but they had a better run time, so you lost :^(",c=0):(T+=", and you both somehow had the same runtime. Lets call it a draw",p+=", and you both somehow had the same runtime. Lets call it a draw ",c=2)),t.textContent=p,n.setState({winnerInfo:T}),n.showGameFinishedAlert(),n.props.user.isCompetitive&&(0===c?n.props.user.rank-20>=100&&n.props.updateUserRank({name:n.props.user.name,rank:n.props.user.rank,eloUpdate:-20}):1===c&&n.props.user.rank+20<=799&&n.props.updateUserRank({name:n.props.user.name,rank:n.props.user.rank,eloUpdate:20})));case 68:case"end":return e.stop()}}),e)}))),n.intervalUpdate=function(){localStorage.getItem("numCorrect")&&P.emit("intervalUpdate",{numCorrect:localStorage.getItem("numCorrect"),runTime:localStorage.getItem("runTime"),memory:localStorage.getItem("memory"),room:n.props.room.room})},n.showOppInfoAlert=function(){n.setState({showOppInfo:!0})},n.showGameFinishedAlert=function(){n.setState({showGameFinished:!0})},n.showConfirmLeave=function(){n.setState({showConfirmLeave:!0})},n.closeConfirmLeave=function(){n.setState({showConfirmLeave:!1})},n.mapMakeDescription=function(){n.props.challenge.challenge.description.split("%").map((function(e){return o.a.createElement("text",null,e,o.a.createElement("br",null))}))},n.state={input:"",output:"",language_id:62,user_input:"",startTime:(new Date).getTime(),count:0,room:"",timeOfLastRun:0,leaving:!1,mounted:!1,firstInput:!1,showOppInfo:!1,showGameFinished:!1,showConfirmLeave:!1,yourFinishInfo:"",theirFinishInfo:"",winnerInfo:"",oppNumCorrect:0,oppRunTime:0,oppMemory:0,description:"",exampleOne:"",exampleTwo:"",isGameFinished:!1},P.on("gameEnd",n.opponentLeave),P.on("intervalUpdate",(function(e){n.setState({oppNumCorrect:e.numCorrect,oppRunTime:e.runTime,oppMemory:e.memory}),n.showOppInfoAlert()})),n}return Object(z.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.isChallenge||(console.log("nextProps"),this.props.history.push("/dashboard"))}},{key:"componentWillUnmount",value:function(){console.log("unmounting"),console.log(this.props.isChallenge),console.log(this.props.user),localStorage.removeItem("srcCode"),localStorage.removeItem("numCorrect"),localStorage.removeItem("runTime"),localStorage.removeItem("memory"),localStorage.removeItem("description"),localStorage.removeItem("exampleOne"),localStorage.removeItem("exampleTwo"),P.emit("endGame",{room:this.props.room.room}),this.props.removeRoom(),this.props.removeChallenge()}},{key:"componentWillMount",value:function(){if(localStorage.getItem("description"))this.setState({description:localStorage.getItem("description"),exampleOne:localStorage.getItem("exampleOne"),exampleTwo:localStorage.getItem("exampleTwo")});else{var e=this.props.challenge.challenge.description,t=e.substring(e.indexOf("!")+1,e.indexOf("@")),a=e.substring(e.indexOf("@")+1,e.length);t=t.split("%").map((function(e){return o.a.createElement("text",null,e,o.a.createElement("br",null))})),a=a.split("%").map((function(e){return o.a.createElement("text",null,e,o.a.createElement("br",null))})),e=(e=e.substring(0,e.indexOf("!"))).split("%").map((function(e){return o.a.createElement("text",null,e,o.a.createElement("br",null))})),this.setState({description:e,exampleOne:t,exampleTwo:a}),localStorage.setItem("description",e),localStorage.setItem("exampleOne",t),localStorage.setItem("exampleTwo",a)}}},{key:"componentDidMount",value:function(){this.state.leaving||P.emit("rejoinGame",{room:this.props.room.room})}},{key:"enableTab",value:function(e){document.getElementById(e).onkeydown=function(e){if(9===e.keyCode){var t=this.value,a=this.selectionStart,n=this.selectionEnd;return this.value=t.substring(0,a)+"\t"+t.substring(n),this.selectionStart=this.selectionEnd=a+1,!1}}}},{key:"rejoinRoom",value:function(){P.emit("rejoinRoom",{room:this.props.room})}},{key:"render",value:function(){var e,t=this.props.challenge.challenge;this.props.room.room;if(console.log("render"),!1===this.state.firstInput){var a=" \n";if("  "!==t.dataStructure&&(a="/*\n"+t.dataStructure+"\n*//*\n")," "!==t.imports){e=t.imports.split("|");for(var n=0;n<e.length;n++)a=a+e[n]+"\n"}a=a+"public class Main{\n\tpublic static "+t.outputType+" "+t.methodName+"(";for(var s=0;s<t.inputTypes.length;s++)a=a+t.inputTypes[s]+" "+t.inputVarNames[s],s<t.inputTypes.length-1&&(a+=", ");a+="){\n\n\t}\n}",localStorage.getItem("srcCode")?localStorage.getItem("srcCode")!==a?(a,localStorage.setItem("srcCode",a),this.setState({input:a}),!1===this.state.firstInput&&window.location.reload(!1)):localStorage.getItem("srcCode"):(a,localStorage.setItem("srcCode",a))}return o.a.createElement("div",{className:"challengepagebg"},o.a.createElement(xe.a,{direction:"row"},o.a.createElement("div",{id:"transparent"},o.a.createElement("div",{style:{marginTop:"10px"}},o.a.createElement("h4",null,o.a.createElement("p",{id:"title"},t.name))),o.a.createElement("br",null),o.a.createElement("div",{style:{marginLeft:"5px",marginRight:"5px"}},o.a.createElement("div",{class:"d-flex justify-content-left"},o.a.createElement("text",{id:"description"},this.state.description)),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("div",{class:"d-flex justify-content-left"},o.a.createElement("text",{id:"exampleTitle"},""===this.state.exampleOne?"":"Example 1:",o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement("div",{class:"d-flex justify-content-left"},o.a.createElement("text",{id:"example"},this.state.exampleOne)),o.a.createElement("div",{class:"d-flex justify-content-left"},o.a.createElement("text",{id:"exampleTitle"},""===this.state.exampleTwo?"":"Example 2:",o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement("div",{class:"d-flex justify-content-left"},o.a.createElement("text",{id:"example"},this.state.exampleTwo)))),o.a.createElement("div",{style:{width:"100vw"}},o.a.createElement(me.a,{show:this.state.showOppInfo,variant:"info",dismissable:!0},o.a.createElement(me.a.Heading,null,"Little update on your opponents progress..."),o.a.createElement("p",null,"They currently have passed ",this.state.oppNumCorrect," cases, have a run time of ",this.state.oppRunTime," ms and are using ",this.state.oppMemory," KBs of memory.")),o.a.createElement(me.a,{show:this.state.showGameFinished,variant:"info",dismissable:!0},o.a.createElement(me.a.Heading,null,this.state.winnerInfo),o.a.createElement("p",null,"Your game data looked like:",o.a.createElement("br",null),this.state.yourFinishInfo,o.a.createElement("br",null),o.a.createElement("hr",null),"Their data looked like: ",o.a.createElement("br",null),this.state.theirFinishInfo)),o.a.createElement(me.a,{show:this.state.showConfirmLeave,variant:"info",dismissable:!0},o.a.createElement(me.a.Heading,null,"Are you sure you would like to leave?"),o.a.createElement("p",null,"Be warned, abandoning incurs a cooldown!"),o.a.createElement("hr",null),o.a.createElement(q.a,{onClick:this.confirmedAbandon},"Leave"),o.a.createElement(q.a,{onClick:this.closeConfirmLeave},"Nevermind")),o.a.createElement("div",{class:"row justify-content-center",style:{height:"8vh"}},o.a.createElement("text",{style:{fontFamily:"monospace",fontSize:"30px"},className:"brand-logo black-text"},o.a.createElement("i",{className:"material-icons"},"code"),"CompCoder")),o.a.createElement("div",{class:"d-flex justify-content-between",style:{height:"8vh"}},o.a.createElement("button",{type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",onClick:this.back,style:{marginLeft:"20px"}},o.a.createElement("i",{class:"fas fa-cog fa-fw"})," Back"),o.a.createElement("div",{style:{marginRight:"3vw"}},o.a.createElement(Ee,{timesUp:this.timesUp,intervalUpdate:this.intervalUpdate}))),o.a.createElement("div",{class:"row justify-content-center",style:{height:"65vh"}},o.a.createElement(we.a,{xs:8},o.a.createElement(Ce.a,{required:!0,height:"65vh",defaultLanguage:"java",defaultValue:a,name:"solution",id:"source",onChange:this.input,editorProps:{blockingScroll:!0}},a)),o.a.createElement(we.a,{xs:3},o.a.createElement("textarea",{id:"output"},this.state.output))),o.a.createElement("div",{class:"row justify-content-center",style:{height:"9vh"}},o.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",onClick:this.submit},o.a.createElement("i",{class:"fas fa-cog fa-fw"})," Run"),o.a.createElement("text",{id:"warningText"})))))}}]),a}(n.Component),Ie=Object(j.b)((function(e){return{challenge:e.auth.challenge,isChallenge:e.auth.isChallenge,room:e.auth.room,isRoom:e.auth.isRoom,user:e.auth.user}}),{removeChallenge:I,removeRoom:N,challengeUser:x,updateUserRank:function(e){return function(t){console.log("action userData"),console.log(e),d.a.post("/api/users/updateUserRank",e).then((function(e){var a=e.data.token;console.log("just posted"),console.log("setting local storage"),localStorage.setItem("userToken",a),console.log("setting authtoken"),h(a);var n=u()(a);console.log("dispatching"),t(w(n))})).catch((function(e){console.log(e),t({type:f,payload:e.response.data})}))}},coolDown:function(e){return function(t){d.a.post("/api/users/coolDown",e).then((function(e){var a=e.data.token;console.log("setting local storage"),localStorage.setItem("userToken",a),console.log("setting authtoken"),h(a);var n=u()(a);console.log("dispatching"),t(w(n))})).catch((function(e){console.log(e),t({type:f,payload:e.response.data})}))}}})(ke);if(localStorage.userToken){var Se=localStorage.userToken;h(Se);var Ne=u()(Se);B.dispatch(w(Ne));var je=Date.now()/1e3;Ne.exp<je&&(B.dispatch(C()),window.location.href="./login")}if(localStorage.challengeToken){var Oe=localStorage.challengeToken;g(Oe);var Te=u()(Oe);B.dispatch(k(Te))}if(localStorage.roomToken){var Re=localStorage.roomToken,De=u()(Re);B.dispatch(S(De))}var Le=function(){return o.a.createElement(j.a,{store:B},o.a.createElement(r.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(i.a,{exact:!0,path:"/",component:J}),o.a.createElement(i.a,{exact:!0,path:"/register",component:te}),o.a.createElement(i.a,{exact:!0,path:"/login",component:ne}),o.a.createElement(i.a,{exact:!0,path:"/bugReport",component:K}),o.a.createElement(c.a,null,o.a.createElement(re,{exact:!0,path:"/dashboard",component:he}),o.a.createElement(re,{exact:!0,path:"/challengeSelect",component:fe}),o.a.createElement(re,{exact:!0,path:"/challengePage",component:Ie})))))},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,633)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,s=t.getLCP,l=t.getTTFB;a(e),n(e),o(e),s(e),l(e)}))};a(617);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Le,null)),document.getElementById("root")),Me()}},[[618,1,2]]]);